# 1、文件名：3个字节   

# 2、扩展名：1个字节  

# 3、目录、文件属性：1字节；

# 4、起始盘块号：1个字节； 

# 5、文件长度：2字节（目录没有长度）

# 运行流程

1. 系统开机，从硬盘中读取fat表
2. 根据fat表的内容讲内容保存在内存中

创建文件：

1. 获取文件名，判断是文件还是目录
2. 保存这个名字
3.  查看第2号磁盘块是否有空间，如果没有则去fat中查找一个空的磁盘块用来放根目录下的项
4. 如果有空间，则找到没有放置内容的空间，写入名字，类型等信息
5. 编辑文件：
6. 通过给定的路径查找

例如：/usr/test/hello.txt

1. 先将路径分隔，usr    test    hello.txt
2. 到根路径也就是第二磁盘块中查找名字为usr的，查到了判断类型，如果是文件，返回错误，如果是路径找到他数据所在磁盘块
3. 到其磁盘块后再通过test查找，再次判断是否是文件，只要当前处理的不是最后一个字符串就应该都是路径
4. 最后找到该文件，然后通过其数据磁盘块，找到该磁盘，进行写入操作

# 构思

## 创建文件

1. 输入路径
2. 从根目录开始挨个查找给定路径中的目录或者文件是否存在
3. 如果目录存在，继续往下判断，如果文件存在给出提示，是否覆盖
4. 如果目录不存在，则创建此处之后的所有目录包括文件
5. 如果文件不存在，创建文件即可

## 问题

文件内容只支持字母**解决**

## 实现功能

1. 创建文件
2. 添加内容
3. 获取文件列表
4. 分配空间
5. 进入指定路径
6. 删除文件
   * 修改fat表
   * 格式化文件
   * 暂时设置文件删除后将同目录下的最后一个目录项覆盖当前位置
7. 创建文件是否覆盖
8. 显示文件内容
9. 编辑文件
10. 移动文件
11. 

## 未实现

1. 目录超过8项时重新分配空间

* 获取一个空闲磁盘块
* 添加到fat表
* 新的内容到新的磁盘块中添加

受到影响的方法：

* getLIst：多加一层for循环，遍历所占据的磁盘块
* getFileBlock：idx上限不再是8，根据idx的大小就可以判断该文件在父目录的哪个磁盘块下，通过getFatList方法获取到父目录.  所有的磁盘块

所需方法：

* getFatList 将fat表中的链接关系获取到数组返回

1. 根据输入类型判断输入是否合法

## 移动文件

实际上就是将文件索引，即文件目录项移动到另一个位置，然后同样指向相同的数据磁盘块即可。





2

5 7 9



2, 5, 17

2, 

# 编辑到editFile方法



